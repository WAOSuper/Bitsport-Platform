/*!
 * REVOLUTION 6.0.0 OVERVIEW JS
 * @version: 1.0 (01.07.2019)
 * @author ThemePunch
*/
function showPluginInfos(){}!function(){RVS.F.initOverView=function(){RVS.F.initAdmin(),RVS.C.rsOVM=jQuery("#rs_overview_menu"),RVS.S.ovMode=!0,RVS.F.initialiseInputBoxes(),initLocalListeners(),jQuery("#plugin_history").RSScroll({wheelPropagation:!0,suppressScrollX:!1,minScrollbarLength:30}),sliderLibrary.output=jQuery("#existing_sliders"),sliderLibrary.sfw=jQuery("#slider_folders_wrap"),sliderLibrary.sfw.appendTo(jQuery("body")),sliderLibrary.sfwu=jQuery("#slider_folders_wrap_underlay"),sliderLibrary.backOneLevel=jQuery('<div id="back_one_folder" class="new_slider_block"><i class="material-icons">more_horiz</i><span class="nsb_title">Back</span></div>'),sliderLibrary.selectedFolder=-1,sliderLibrary.selectedPage=1,sliderLibrary.slidesContainer=jQuery(".overview_slide_elements"),updateParentAttributes(),sliderLibrary.filters=buildModuleFilters(),function(){window.ov_scroll_targets=[];var e=0;jQuery(".rso_scrollmenuitem").each(function(){void 0!==this.dataset.ref&&(window.ov_scroll_targets.push({obj:jQuery(this.dataset.ref),top:jQuery(this.dataset.ref).offset().top,height:jQuery(this.dataset.ref).height(),menu:jQuery(this),menu_js:this}),this.dataset.ostref=e,e++)}),jQuery("#adminmenuwrap").append('<div id="wpadmin_overlay"></div>'),jQuery("#wpcontent").append('<div id="wpadmin_overlay_top"></div>'),tpGS.gsap.to(["#wpadmin_overlay","#wpadmin_overlay_top"],.6,{opacity:1,ease:"power3.inOut"}),tpGS.gsap.to(["#adminmenuback","#adminmenuwrap","#wpadminbar"],.6,{filter:"grayscale(100%)",ease:"power3.inOut"}),jQuery("#adminmenuback, #adminmenuwrap, #wpadminbar").hover(function(){tpGS.gsap.to(["#wpadmin_overlay","#wpadmin_overlay_top"],.3,{opacity:0,ease:"power3.inOut"}),tpGS.gsap.to(["#adminmenuback","#adminmenuwrap","#wpadminbar"],.6,{filter:"grayscale(0%)",ease:"power3.inOut"})},function(){tpGS.gsap.to(["#wpadmin_overlay","#wpadmin_overlay_top"],.3,{opacity:1,ease:"power3.inOut"}),tpGS.gsap.to(["#adminmenuback","#adminmenuwrap","#wpadminbar"],.6,{filter:"grayscale(100%)",ease:"power3.inOut"})}),s(),t(),tpGS.gsap.to("#rs_overview_menu",1,{opacity:1,ease:"power3.out"})}(),RVS.F.updateDraw(),RVS.F.isActivated(),updateOVFilteredList(),updateSysChecks(),initBasics(),RVS.ENV.updated&&RVS.F.welcome(),RVS.F.generateAttachmentMetaData(),checkAddOnVersions(),RVS.ENV.newTemplatesCounter=document.getElementById("new_templates_counter"),RVS.ENV.newAddonsCounter=document.getElementById("new_addons_counter");var e={i:0},i={i:0};void 0!==RVS.ENV.newTemplatesAmount&&RVS.ENV.newTemplatesAmount>0&&(tpGS.gsap.fromTo(e,Math.min(1.5,Math.max(.2,.02*RVS.ENV.newTemplatesAmount)),{i:0},{i:RVS.ENV.newTemplatesAmount,ease:"none",onUpdate:function(){RVS.ENV.newTemplatesCounter.innerHTML="+ "+Math.round(e.i)}}),RVS.ENV.newTemplatesCounter.style.display="block"),void 0!==RVS.ENV.newAddonsAmount&&RVS.ENV.newAddonsAmount>0&&(tpGS.gsap.fromTo(i,Math.min(1.5,Math.max(.2,.02*RVS.ENV.newAddonsAmount)),{i:0},{i:RVS.ENV.newAddonsAmount,ease:"none",onUpdate:function(){RVS.ENV.newAddonsCounter.innerHTML="+ "+Math.round(i.i)}}),RVS.ENV.newAddonsCounter.style.display="block");var r=RVS.F.getCookie("rs6_shortly_edited_slider")+"";if(void 0!==r&&r.length>0){RVS.F.setCookie("rs6_shortly_edited_slider","",0);var a=!1;for(var d in sliderLibrary.sliders)!1===a&&(a=sliderLibrary.sliders[d].id==r?sliderLibrary.sliders[d].parent:a);!1!==a&&-1!==a&&"-1"!==a&&RVS.F.changeOVToFolder(a)}RVS.F.notifications()},RVS.F.getBackupList=function(){return RVS.F.ajaxRequest("get_v5_slider_list",{},function(e){e.success?console.log(e.slider):console.log("Response Error")},!1,!1,void 0,!0),"Getting Slide List from Backup Database..."},RVS.F.reImportBackup=function(e){return RVS.F.ajaxRequest("reimport_v5_slider",{id:e},function(e){console.log(e)},!1,!1,void 0,!0),"Importing Slider "+e+" from the Backup Database..."},RVS.F.setObjBg=function(e,i){var r=void 0!==e.bg.src&&e.bg.src.length>3?e.bg.src:RVS.ENV.plugin_url+"admin/assets/images/sources/"+e.source+".png",t=void 0!==e.bg.style?e.bg.style:{};switch(Array.isArray(t)&&(t=RVS.F.toObject(t)),e.bg.type){case"image":void 0!==t&&void 0!==t.css?t.css.backgroundImage="url("+r+")":void 0!==t&&(t.backgroundImage="url("+r+")"),tpGS.gsap.set(i,t);break;case"color":case"colored":case"solid":var s=window.RSColor.get(t["background-color"]);s.indexOf("gradient")>=0?tpGS.gsap.set(i,{backgroundImage:s}):tpGS.gsap.set(i,{backgroundColor:s});break;case"transparent":tpGS.gsap.set(i,{backgroundImage:"url("+RVS.ENV.plugin_url+"admin/assets/images/sources/"+e.source+".png)",backgroundRepeat:"no-repeat",backgroundSize:"cover"})}},RVS.F.notifications=function(){var e={0:"",1:"",2:""},i=2,r=jQuery("#rso_menu_notices"),t=document.getElementById("rs_notices_wrapper"),s=document.getElementById("rs_notice_bell"),a=document.getElementById("rs_notice_counter"),d=document.getElementById("rs_notice_the_bell"),l=new Array;t.innerHTML="",RVS.ENV.notices=void 0===RVS.ENV.notices?new Array:RVS.ENV.notices,RVS.ENV.noticeCache=void 0===RVS.ENV.noticeCache?RVS.ENV.notices.slice():RVS.ENV.noticeCache,RVS.ENV.notices=RVS.ENV.noticeCache.slice(),"true"!==RVS.ENV.activated&&!0!==RVS.ENV.activated&&(RVS.ENV.notices.push({function:"registerPlugin",additional:[],code:"INTERN",disable:!0,icon:"vpn_key",is_global:!1,text:RVS_LANG.notRegistered,type:1}),RVS.ENV.notices.push({function:"registerPlugin",additional:[],code:"INTERN",disable:!0,icon:"style",is_global:!1,text:RVS_LANG.notRegNoAll,type:1})),void 0!==RVS.ENV.addOns_to_updateArray&&RVS.ENV.addOns_to_updateArray.length>0&&RVS.ENV.notices.push({function:"checkAddOnVersions",additional:[],code:"INTERN",disable:!0,icon:"extension",is_global:!1,text:RVS_LANG.addonsmustbeupdated,type:0}),RVS.F.compareVersion(RVS.ENV.latest_version,RVS.ENV.revision)>0&&RVS.ENV.notices.push({function:"updatePluginNow",additional:[],code:"INTERN",disable:!0,icon:"new_releases",is_global:!1,text:RVS_LANG.newVersionAvailable,type:1});var o=!1;for(var n in RVS.LIB.ADDONS)o||RVS.LIB.ADDONS[n].available>RVS.LIB.ADDONS[n].installed&&(o=!0,RVS.ENV.notices.push({additional:[],code:"INTERN",disable:!0,icon:"extension",is_global:!1,text:RVS_LANG.someAddonnewVersionAvailable,type:1}));var c=0;for(var n in RVS.ENV.notices)if("3"!==RVS.ENV.notices[n].type&&c++,"2"===RVS.ENV.notices[n].type&&l.push(RVS.ENV.notices[n].code),"3"!==RVS.ENV.notices[n].type){var u=void 0!==RVS.ENV.notices[n].function&&RVS.ENV.notices[n].function.length>0?"notification_function_"+RVS.ENV.notices[n].function:"no_notification_function";e[RVS.ENV.notices[n].type]+='<li data-code="'+RVS.ENV.notices[n].code+'" class="'+u+" notice_level_"+RVS.ENV.notices[n].type+'"><i class="material-icons">'+RVS.ENV.notices[n].icon+"</i>"+RVS.ENV.notices[n].text+"</li>",i=i>parseInt(RVS.ENV.notices[n].type)?parseInt(RVS.ENV.notices[n].type):i}else RVS.S.advert=void 0===RVS.S.advert?[]:RVS.S.advert,RVS.S.advert.push(jQuery.extend({},!0,RVS.ENV.notices[n]));if(c>0){if(r.show(),e[0].length>0&&(t.innerHTML+=e[0]),e[1].length>0&&(t.innerHTML+=e[1]),e[2].length>0&&(t.innerHTML+=e[2]),s.classList.remove("notice_level_1"),s.classList.remove("notice_level_2"),s.classList.remove("notice_level_3"),a.classList.remove("notice_level_1"),a.classList.remove("notice_level_2"),a.classList.remove("notice_level_3"),s.className+=" notice_level_"+i,a.className+=" notice_level_"+i,a.innerHTML=c,t.innerHTML.length>0&&l.length>0&&(t.innerHTML+='<li id="remove_notifications" class="notice_level_2"><i class="material-icons">close</i>'+RVS_LANG.dismissmessages+"</li>"),jQuery(".notification_function_checkAddOnVersions").click(checkAddOnVersions),jQuery(".notification_function_registerPlugin").click(function(){RVS.F.showRegisterSliderInfo()}),jQuery(".notification_function_updatePluginNow").click(function(){!0===RVS.ENV.activated?RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"update",title:RVS_LANG.updateplugin,maintext:RVS_LANG.areyousureupdateplugin,subtext:RVS_LANG.updatingtakes,do:{icon:"check_circle",text:RVS_LANG.updatenow,event:"updateThePlugin"},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0}):RVS.F.showRegisterSliderInfo()}),jQuery("#remove_notifications").click(function(){RVS.F.ajaxRequest("dismiss_dynamic_notice",{id:l},function(e){},!1,!1,void 0,!0)}),void 0===RVS.S.noticesListener){RVS.S.noticesListener=!0;var p=tpGS.gsap.timeline({repeat:-1});tpGS.CustomWiggle.create("myWiggle",{wiggles:8,type:"uniform"}),p.add(tpGS.gsap.to("#rs_notice_the_bell",.5,{transformOrigin:"50% 0%",x:5,rotationZ:10,ease:"myWiggle",onComplete:function(){d.innerHTML="notifications"},onStart:function(){d.innerHTML="notifications_active"}}),2)}}else r.hide();if(void 0!==RVS.S.advert&&RVS.S.advert.length>0)for(var _ in RVS.S.advert)RVS.S.advert[_].id="rs_advert_"+Math.round(1e7*Math.random()),jQuery("#rs_welcome_h3").after('<div style="display:block;position:relative;" id="'+RVS.S.advert[_].id+'"></div>'),RVS.S.advert[_].container=document.getElementById(RVS.S.advert[_].id),RVS.S.advert[_].container.innerHTML=RVS.S.advert[_].text,RVS.S.advert[_].mwrap=RVS.S.advert[_].container.getElementsByTagName("RS-MODULE-WRAP"),void 0===RVS.S.advert[_].mwrap[0]&&(RVS.S.advert[_].mwrap=RVS.S.advert[_].container),jQuery(RVS.S.advert[_].mwrap).append('<div id="rs_close_advert_'+_+'" data-ai="'+_+'" class="rs_close_advert" ><i class="material-icons">close</i>'+RVS_LANG.closeNews+"</div>"),RVS.S.advert[_].revmodule=RVS.S.advert[_].container.getElementsByTagName("RS-MODULE")[0],void 0!==RVS.S.advert[_].revmodule?(RVS.S.advert[_].rsoptions=JSON.parse(RVS.S.advert[_].script),jQuery("#"+RVS.S.advert[_].revmodule.id).show().revolution(RVS.S.advert[_].rsoptions)):RVS.S.advert[_].mwrap.style.marginTop="50px",tpGS.gsap.fromTo(jQuery("#rs_close_advert_"+_),1,{opacity:0},{opacity:1,delay:2}),tpGS.gsap.set(RVS.S.advert[_].mwrap,{boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.2)"}),tpGS.gsap.to(RVS.S.advert[_].mwrap,1,{boxShadow:"0px 0px 20px 10px rgba(0,0,0,0.2)",delay:2}),jQuery("#rs_close_advert_"+_).click(function(){tpGS.gsap.to(RVS.S.advert[this.dataset.ai].mwrap,1,{marginTop:0,marginBottom:0,overflow:"hidden",height:0,ease:"power3.inOut",onComplete:function(){RVS.S.advert[this.dataset.ai].container.innerHTML=""}}),tpGS.gsap.to(RVS.S.advert[this.dataset.ai].container,1,{autoAlpha:0});var e=new Array;e.push(RVS.S.advert[this.dataset.ai].code),RVS.F.ajaxRequest("dismiss_dynamic_notice",{id:e},function(e){},!1,!1,void 0,!0)})},RVS.F.welcome=function(){RVS.F.RSDialog.create({modalid:"rbm_welcomeModal",bgopacity:.85}),jQuery("#rbm_welcomeModal .rbm_close").click(RVS.F.RSDialog.close),RVS.ENV.activated?jQuery("#open_welcome_register_form").click(RVS.F.RSDialog.close):jQuery("#open_welcome_register_form").click(RVS.F.showRegisterSliderInfo)},RVS.F.changeOVToFolder=function(e){sliderLibrary.selectedFolder=e,resetAllOVFilters(),updateOVFilteredList()},RVS.F.getOVSliderIndex=function(e){var i=-1;for(var r in sliderLibrary.sliders)sliderLibrary.sliders.hasOwnProperty(r)&&sliderLibrary.sliders[r].id==e&&(i=r);return i},RVS.F.getOVSlideIndex=function(e,i){var r=-1;for(var t in sliderLibrary.slides[i])sliderLibrary.slides[i].hasOwnProperty(t)&&""+sliderLibrary.slides[i][t].id==""+e&&(r=t);return r},RVS.F.updateDraw=function(){RVS.F.compareVersion(RVS.ENV.latest_version,RVS.ENV.revision)>0?(jQuery("#available_version_icon").addClass("warning"),jQuery("#available_version_content").addClass("warning")):(jQuery("#available_version_icon").removeClass("warning"),jQuery("#available_version_content").removeClass("warning"))},RVS.F.isActivated=function(){"true"==RVS.ENV.activated||1==RVS.ENV.activated?(jQuery("#rs_register_to_unlock").text(RVS_LANG.premium_features_unlocked),jQuery("#purchasekey").val(RVS.ENV.code),jQuery("#updateplugin").removeClass("halfdisabled").text(RVS_LANG.updateNow),jQuery("#activated_ornot_box").removeClass("not_activated").html('<i class="material-icons">done</i>'+RVS_LANG.registered),RVS.ENV.selling?jQuery("#activateplugin").text(RVS_LANG.deregisterKey):jQuery("#activateplugin").text(RVS_LANG.deregisterCode),RVS.ENV.selling?jQuery("#activateplugintitle").text(RVS_LANG.registeredlicensekey):jQuery("#activateplugintitle").text(RVS_LANG.registeredpurchasecode),jQuery("#purchasekey_wrap").addClass("activated"),jQuery(".activate_to_unlock").hide()):(jQuery("#rs_register_to_unlock").text(RVS_LANG.register_to_unlock),jQuery("#purchasekey").val(),jQuery("#updateplugin").addClass("halfdisabled").text(RVS_LANG.activateToUpdate),jQuery("#activated_ornot_box").addClass("not_activated").html('<i class="material-icons">do_not_disturb</i>'+RVS_LANG.notRegisteredNow),RVS.ENV.selling?jQuery("#activateplugin").text(RVS_LANG.registerKey):jQuery("#activateplugin").text(RVS_LANG.registerCode),RVS.ENV.selling?jQuery("#activateplugintitle").text(RVS_LANG.registerlicensekey):jQuery("#activateplugintitle").text(RVS_LANG.registerpurchasecode),jQuery("#purchasekey_wrap").removeClass("activated"),jQuery(".activate_to_unlock").show()),RVS.F.compareVersion(RVS.ENV.latest_version,RVS.ENV.revision)<=0?jQuery("#updateplugin").hide():jQuery("#updateplugin").show()},RVS.F.createNewFolder=function(e){a({keepOverlay:!1});var i=void 0!==e&&void 0!==e.foldername?{title:e.foldername}:{};-1!==sliderLibrary.selectedFolder&&(i.parentFolder=sliderLibrary.selectedFolder),RVS.F.ajaxRequest("create_slider_folder",i,function(i){i.folder.parent=sliderLibrary.selectedFolder,-1!==sliderLibrary.selectedFolder&&sliderLibrary.sliders[RVS.F.getOVSliderIndex(sliderLibrary.selectedFolder)].children.push(i.folder.id),i.success&&sliderLibrary.sliders.push(i.folder),resetAllOVFilters(),void 0!==e&&e.enter?(sliderLibrary.selectedFolder=i.folder.id,sliderLibrary.filters=buildModuleFilters()):(sliderLibrary.filters=buildModuleFilters(),jQuery("#slider_id_"+i.folder.id).addClass("selected")),i.success&&void 0!==e&&void 0!==e.callBack&&RVS.DOC.trigger(e.callBack,e.callBackParam)})};var e=function(e){var i='<div id="global_custom_font_row_'+e+'" class="global_custom_font_row">';return i+='<input type="text" style="width:180px; margin-right:20px;" data-r="globals.customFontList.'+e+'.family" class="easyinit globalinput" placeholder="ie. font-family-name">',i+='<input type="text" data-r="globals.customFontList.'+e+'.url" style="width:180px; margin-right:20px;" class="easyinit globalinput" placeholder="ie. https://customfont.css">',i+='<input type="text" style="width:180px; margin-right:20px;" data-r="globals.customFontList.'+e+'.weights" class="easyinit globalinput" placeholder="ie. 400,600,800">',i+='<div style="width:75px;margin-left:10px;display:inline-block"><input type="checkbox" class="easyinit globalinput" data-r="globals.customFontList.'+e+'.frontend"></div>',i+='<div style="width:75px;display:inline-block"><input type="checkbox" class="easyinit globalinput" data-r="globals.customFontList.'+e+'.backend"></div>',i+='<div data-todelete="'+e+'" class="deletecustomglobalfont basic_action_button onlyicon "><i class="material-icons">delete</i></div>',i+="</div>"},i=function(){var i,r="";for(RVS.S.glob_cus_fonts=void 0===RVS.S.glob_cus_fonts?jQuery("#global_custom_fonts"):RVS.S.glob_cus_fonts,i=0;i<RVS.SLIDER.globals.customFontList.length;i++)r+=e(i);RVS.S.glob_cus_fonts[0].innerHTML=r,RVS.F.initOnOff(jQuery("#rbm_globalfontsettings")),RVS.F.updateEasyInputs({container:jQuery("#rbm_globalfontsettings"),path:"",trigger:"init"})};function r(){for(var e in sliderLibrary.slidesOrder=void 0===sliderLibrary.slidesOrder?{}:sliderLibrary.slidesOrder,sliderLibrary.slidesOrder[sliderLibrary.selectedSlider]=new Array(500),sliderLibrary.slides[sliderLibrary.selectedSlider])sliderLibrary.slides[sliderLibrary.selectedSlider].hasOwnProperty(e)&&(sliderLibrary.slidesOrder[sliderLibrary.selectedSlider][parseInt(sliderLibrary.slides[sliderLibrary.selectedSlider][e].order,0)]=sliderLibrary.slides[sliderLibrary.selectedSlider][e].id)}function t(){window.scroll_top=RVS.WIN.scrollTop();var e=-1;for(var i in window.cacheOMT=jQuery("#rs_overview").offset().top,tpGS.gsap.set(RVS.C.rsOVM,{top:Math.max(32,window.cacheOMT-window.scroll_top)}),window.ov_scroll_targets)window.ov_scroll_targets.hasOwnProperty(i)&&window.ov_scroll_targets[i].obj.length>0&&(window.ov_scroll_targets[i].top=window.ov_scroll_targets[i].obj.offset().top,!window.ov_scroll_targets[i].shown&&window.ov_scroll_targets[i].top<window.scroll_top+window.outerHeight-200&&(tpGS.gsap.to(window.ov_scroll_targets[i].obj[0],1,{autoAlpha:1,ease:"power3.inOut"}),window.ov_scroll_targets[i].shown=!0),window.ov_scroll_targets[i].height=window.ov_scroll_targets[i].obj.height(),window.scroll_top+200>=window.ov_scroll_targets[i].top&&window.scroll_top<=window.ov_scroll_targets[i].top+window.ov_scroll_targets[i].height&&(e=i));e=-1===e?window.ov_scroll_targets.length-1:e,jQuery(".rso_scrollmenuitem").removeClass("active"),window.ov_scroll_targets[e].menu.addClass("active")}function s(){tpGS.gsap.set("#rs_overview_menu",{width:jQuery("#wpbody").width()}),jQuery("#wpadmin_overlay").width(jQuery("#adminmenuback").width()),jQuery("#wpadmin_overlay_top").height(jQuery("#wpadminbar").height()),t()}function a(e){e.keepOverlay||jQuery(".overview_elements").removeClass("infocus"),jQuery(".rs_library_el_next").hide(),jQuery(".rs_library_element.selected").each(function(){var i=jQuery(this);void 0!==e.id&&i.id===e.id||(tpGS.gsap.to(i.find(".rsle_tbar"),.3,{y:"-100%",transformOrigin:"50% 0%",ease:"power3.out"}),i.removeClass("menuopen"),setTimeout(function(){window.lastBreacCrumbText="",jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText),i.removeClass("selected")},300))})}function d(e,i){if(void 0===i||void 0===e)return e;if(jQuery.isArray(i))for(var r in i)i.hasOwnProperty(r)&&-1==jQuery.inArray(i[r],e)&&e.push(i[r]);else-1==jQuery.inArray(i,e)&&e.push(i);return e}function l(e){if(void 0!==e.array&&e.array.length>0)for(var i in e.array)if(e.array.hasOwnProperty(i)){var r=e.sanitize?new Option(RVS.F.sanitize_input(RVS.F.capitalise(e.array[i])),e.array[i],!1,e.old===e.array[i]):new Option(RVS.F.capitalise(e.array[i]),e.array[i],!1,e.old===e.array[i]);r.className="dynamicadded",e.select.append(r)}}function o(e,i){return null==e?i:e}function n(e){return"false"===e||!1===e||"off"===e||void 0===e||0===e||-1===e?e=!1:"true"!==e&&!0!==e&&"on"!==e||(e=!0),e}openGlobalSettings=function(){window.initGlobalSettings||(RVS.F.initOnOff(jQuery("#rbm_globalsettings")),window.revbuilder=void 0===window.revbuilder?{}:window.revbuilder,RVS.SLIDER=void 0===RVS.SLIDER?{}:RVS.SLIDER,RVS.F.ajaxRequest("get_global_settings",{},function(e){var i,r;e.success&&(RVS.SLIDER.globals=(i=null==(i=e.global_settings)?{}:i,(r={}).version=r.version<"6.0.0"?"6.0.0":r.version,r.permission=o(i.permission,"admin"),r.lang=o(i.lang,"default"),r.allinclude=n(o(i.allinclude,!0)),r.highContrast=n(o(i.highContrast,!1)),r.includeids=o(i.includeids,""),r.script=o(i.script,{footer:!1,defer:!1,full:!1}),r.imgcrossOrigin=o(i.imgcrossOrigin,"unset"),r.lazyloaddata=o(i.lazyloaddata,""),r.fontdownload=o(i.fontdownload,"off"),r.script.footer=n(r.script.footer),r.script.defer=n(r.script.defer),r.script.full=n(r.script.full),r.fontawesomedisable=n(i.fontawesomedisable),r.fonturl=o(i.fonturl,""),r.size=o(i.size,{desktop:1240,notebook:1024,tablet:778,mobile:480}),r.customfonts=o(i.customfonts,""),r.customFontList=o(i.customFontList,[{family:"",url:"",frontend:!1,backend:!0,weights:"200,300,400,500,600,700,800,900"}]),r),window.initGlobalSettings=!0,RVS.F.updateEasyInputs({container:jQuery("#rbm_globalsettings"),path:"",trigger:"init"}))}),RVS.DOC.on("click",".deletecustomglobalfont",function(e){RVS.SLIDER.globals.customFontList.splice(this.dataset.todelete,1),i()}),RVS.DOC.on("click","#add_new_custom_font",function(){RVS.SLIDER.globals.customFontList.length<9&&(RVS.S.glob_cus_fonts[0].innerHTML+=e(RVS.SLIDER.globals.customFontList.length),RVS.SLIDER.globals.customFontList.push({family:"",url:"",frontend:!1,backend:!0,weights:"200,300,400,500,600,700,800,900"}),RVS.F.initOnOff(jQuery("#rbm_globalfontsettings")),RVS.F.updateEasyInputs({container:jQuery("#rbm_globalfontsettings"),path:"",trigger:"init"}))}),RVS.DOC.on("click","#rs_gl_custom_fonts",function(){i(),RVS.F.RSDialog.create({modalid:"rbm_globalfontsettings",bgopacity:.85})}),RVS.DOC.on("click","#rbm_globalfontsettings .rbm_close",function(){RVS.F.RSDialog.close()}),jQuery("#rbm_globalsettings_savebtn").off("click").on("click",function(){RVS.F.ajaxRequest("update_global_settings",{global_settings:RVS.SLIDER.globals},function(e){RVS.F.RSDialog.close()})}),jQuery("#add_custom_global_fonts").off("click").on("click",function(){RVS.SLIDER.globals.customfonts[RVS.SLIDER.globals.customfonts.length]="",jQuery("#general_custom_fonts_list").append('<label_a></label_a><input type="text" class="easyinit globalinput" data-r="globals.customfonts.'+(RVS.SLIDER.globals.customfonts.length-1)+'" placeholder="font-family, style1, style2"><span class="linebreak"></span>')})),RVS.F.RSDialog.create({modalid:"rbm_globalsettings",bgopacity:.85})},initBasics=function(){jQuery("#newsletter_mail").val(""),tpGS.gsap.set(".plugin_inforow",{autoAlpha:0}),window.tp_twitter=initTwitter("twitter_timeline"),initFeatureSliders()},initFeatureSliders=function(){jQuery(".feature_slider").each(function(){jQuery(this).show().revolution({jsFileLocation:RVS.ENV.plugin_url+"public/assets/js/",visibilityLevels:1240,gridwidth:400,gridheight:200,lazyType:"all",responsiveLevels:1240,progressBar:{disableProgressBar:!0},navigation:{onHoverStop:!1},viewPort:{enable:!0,visible_area:100,presize:!1},fallbacks:{disableFocusListener:!0,allowHTML5AutoPlayOnAndroid:!0}})})},drawOVOverview=function(e){e=void 0===e?{noanimation:!1}:e;var i=sliderLibrary.output.find(".overview_elements");if(i.find(".rsl_breadcrumb_wrap").remove(),-1!==sliderLibrary.selectedFolder||sliderLibrary.inSlideMode){var r='<div class="rsl_breadcrumb_wrap">';if(r+='<div class="rsl_breadcrumb" data-folderid="-1"><i class="material-icons">apps</i>'+RVS_LANG.simproot+"</div>",r+='<i class="rsl_breadcrumb_div material-icons">keyboard_arrow_right</i>',-1!==sliderLibrary.selectedFolder){for(var s="",a=sliderLibrary.selectedFolder;-1!==a;){var d=RVS.F.getOVSliderIndex(a);s='<div class="rsl_breadcrumb" data-folderid="'+a+'"><i class="material-icons">folder_open</i>'+sliderLibrary.sliders[d].title+'</div><i class="rsl_breadcrumb_div material-icons">keyboard_arrow_right</i>'+s,a=sliderLibrary.sliders[d].parent||-1}r+=s}sliderLibrary.inSlideMode&&(r+='<div class="rsl_breadcrumb" data-folderid="'+sliderLibrary.sliders[RVS.F.getOVSliderIndex(sliderLibrary.selectedSlider)].parent+'"><i class="material-icons">burst_mode</i>'+sliderLibrary.sliders[RVS.F.getOVSliderIndex(sliderLibrary.selectedSlider)].title+'</div><i class="rsl_breadcrumb_div material-icons">keyboard_arrow_right</i>'),r+='<div id="rsl_bread_selected" class="rsl_breadcrumb"></div>',r+="</div>",i.append(r)}sliderLibrary.inSlideMode,-1!=sliderLibrary.selectedFolder||sliderLibrary.inSlideMode?sliderLibrary.backOneLevel.appendTo(i):sliderLibrary.backOneLevel.detach();var l=0;if(!0!==sliderLibrary.inSlideMode){for(var o in sliderLibrary.sliders)if(sliderLibrary.sliders.hasOwnProperty(o)){var n=sliderLibrary.sliders[o];void 0===sliderLibrary.pages||jQuery.inArray(n.id,sliderLibrary.pages[sliderLibrary.selectedPage-1])>=0?(l++,void 0!==n.ref&&n.folder&&n.ref.remove(),0===n.slide_id&&!0===n.folder&&(n.slide_id=Math.round(1e8*Math.random())),n.ref=void 0===n.ref||n.folder?buildOVElement(n):n.ref,e.noanimation||tpGS.gsap.fromTo(n.ref,.4,{autoAlpha:0,scale:.8,transformOrigin:"50% 50%",force3D:!0},{scale:1,autoAlpha:1,ease:"power3.inOut",delay:.02*l}),n.ref.appendTo(i),doOVDraggable(n.ref)):void 0!==n.ref&&n.ref.detach()}}else{i.find(".rs_library_element").detach(),tpGS.gsap.to("#modulesoverviewheader, #modulesoverviewfooter",.5,{autoAlpha:0,opacity:0,ease:"power3.inOut"});var c=1;for(var o in sliderLibrary.slidesOrder[sliderLibrary.selectedSlider]){if(void 0!==(d=sliderLibrary.slidesOrder[sliderLibrary.selectedSlider][o]))if(sliderLibrary.slides[sliderLibrary.selectedSlider].hasOwnProperty(d))l++,(n=sliderLibrary.slides[sliderLibrary.selectedSlider][d]).ref=void 0===n.ref?buildOVElement({order:c,title:n.title,bg:n.customAdminThumbSrc,id:sliderLibrary.selectedSlider,slide_id:n.id,type:"slide",state:n.state}):n.ref,n.ref.appendTo(i),c++,e.noanimation||tpGS.gsap.fromTo(n.ref,.4,{autoAlpha:0,scale:.8,transformOrigin:"50% 50%",force3D:!0},{scale:1,autoAlpha:1,ease:"power3.inOut",delay:.02*l})}doOVSortable(i)}t()},buildOVElement=function(e,i){var r=e.folder?"folder_library_element":"",t=jQuery('<div class="image_container_underlay"></div>'),s=i?jQuery('<div data-itemtype="'+e.type+'" data-sliderid="'+e.id+'" data-slideid="'+e.slide_id+'" class="folder_in_list rs_library_element '+r+'"><div class="rsle_footer"><input class="title_container" value="'+e.title+'""><i class="show_rsle material-icons">keyboard_arrow_down</i></div></div>'):jQuery('<div data-itemtype="'+e.type+'" data-sliderid="'+e.id+'" id="slider_id_'+e.id+'" data-slideid="slide_id_'+e.slide_id+'" class="'+("unpublished"===e.state?"unpublished":"")+"  rs_library_element "+r+'"><div class="rsle_footer">'+("slide"===e.type?'<div id="slide_order_number'+e.slide_id+'" class="slide_order_number">#'+e.order+"</div>":"")+'<div class="rs_library_el_next"></div><input data-id="'+e.id+'" data-slideid="'+e.slide_id+'" id="slider_title_'+e.slide_id+'" class="title_container '+("slide"===e.type?"slide_with_number":"")+'" value="'+e.title+'""><i class="material-icons iconofunpublished">visibility_off</i><i class="show_rsle material-icons">arrow_drop_down</i></div></div>');if(s.append(t),!i){var a='<div class="rsle_tbar">',d=e.folder?jQuery('<div class="link_to_slideadmin enter_into_folder" data-info="'+RVS_LANG.openFolder+'"  data-folderid="'+e.id+'"></div>'):jQuery('<div class="link_to_slideadmin '+("slide"!==e.type&&e.slide_ids.length>1?"pull_icon_left":"")+'" data-title="'+e.title+'" data-info="'+RVS_LANG.openInEditor+'"><div class="link_to_quickeditor" data-info="'+RVS_LANG.openQuickEditor+'"><i class="material-icons">text_format</i></div><div class="link_to_quickstyleeditor" data-info="'+RVS_LANG.openQuickStyleEditor+'"><i class="material-icons">style</i></div><a class="link_to_slideadmin_a" data-title="'+e.title+'" data-info="'+RVS_LANG.openInEditor+'" href="'+RVS.ENV.admin_url+"&view=slide&id="+e.slide_id+'"><i class="material-icons">edit</i></a></div>'),l=e.folder||"slide"===e.type||e.slide_ids.length<2?"":jQuery('<div class="link_to_slides_overview" data-info="'+RVS_LANG.showSlides+'" data-title="'+e.title+'" data-id="'+e.id+'"><i class="material-icons">burst_mode</i></div>');if("slide"!==e.type&&(a+='<div class="rsle_tool embedslider" data-id="'+e.id+'"><i class="material-icons">add_to_queue</i><span class="rsle_ttitle">'+RVS_LANG.embed+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool exportslider" data-id="'+e.id+'" ><i class="material-icons">file_download</i><span class="rsle_ttitle">'+RVS_LANG.export+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool exporthtmlslider" data-id="'+e.id+'" ><i class="material-icons">code</i><span class="rsle_ttitle">'+RVS_LANG.exporthtml+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool duplicateslider" data-id="'+e.id+'" ><i class="material-icons">content_copy</i><span class="rsle_ttitle">'+RVS_LANG.duplicate+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool previewslider" data-title="'+e.title+'" data-id="'+e.id+'" ><i class="material-icons">search</i><span class="rsle_ttitle">'+RVS_LANG.preview+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool tagsslider" data-id="'+e.id+'" ><i class="material-icons">local_offer</i><span class="rsle_ttitle">'+RVS_LANG.tags+"</span></div>"),a+='<div class="rsle_tool renameslider" data-id="'+e.id+'" ><i class="material-icons">title</i><span class="rsle_ttitle">'+RVS_LANG.rename+"</span></div>","slide"===e.type&&(a+='<div class="rsle_tool publishslide" data-id="'+e.id+'" data-slideid="'+e.slide_id+'" ><i class="material-icons">visibility</i><span class="rsle_ttitle">'+RVS_LANG.publish+"</span></div>"),"slide"===e.type&&(a+='<div class="rsle_tool unpublishslide" data-id="'+e.id+'" data-slideid="'+e.slide_id+'" ><i class="material-icons">visibility_off</i><span class="rsle_ttitle">'+RVS_LANG.unpublish+"</span></div>"),e.folder||(a+='<div class="rsle_tool adminthumb" data-id="'+e.id+'" data-slideid="'+e.slide_id+'" ><i class="material-icons">photo</i><span class="rsle_ttitle">'+RVS_LANG.thumbnail+"</span></div>"),"slide"===e.type||e.folder||(a+='<div class="rsle_tool optimizeslider" data-id="'+e.id+'" ><i class="material-icons">flash_on</i><span class="rsle_ttitle">'+RVS_LANG.optimize+"</span></div>"),"slide"!==e.type&&(a+='<div class="rsle_tool deleteslider" data-id="'+e.id+'" ><i class="material-icons">delete</i><span class="rsle_ttitle">'+RVS_LANG.delete+"</span></div>"),"slide"!==e.type){for(var o in a+='<div class="rsle_tool_tagwrap"><select data-id="'+e.id+'" id="tags_'+e.id+'" class="elementtags searchbox" multiple="multiple" data-theme="blue">',sliderLibrary.filters.tags){if(sliderLibrary.filters.tags.hasOwnProperty(o))a+="<option "+(jQuery.inArray(sliderLibrary.filters.tags[o].toLowerCase(),e.tags)>=0?' selected="selected" ':"")+'value="'+RVS.F.sanitize_input(sliderLibrary.filters.tags[o].toLowerCase())+'">'+RVS.F.sanitize_input(sliderLibrary.filters.tags[o])+"</option>"}a+="</select></div></div>"}a=jQuery(a),s.append(d),e.folder||s.append(l),s.append(a),a.find(".elementtags").select2RS({tags:!0,tokenSeparators:[","," "]}),a.find(".elementfolders").select2RS({}),e.folder||s.append('<div class="rsle_move_and_edit" data-info="'+RVS_LANG.moveToFolder+'"></div>')}if(e.children&&e.children.length>0){var n=[],c=!1;for(var o in e.children)if(e.children.hasOwnProperty(o)){for(var u in c=!1,sliderLibrary.sliders)if(sliderLibrary.sliders.hasOwnProperty(u)&&sliderLibrary.sliders[u].id==e.children[o]){c=!0;break}c&&n.push(e.children[o])}e.children=n}if(e.folder)if(-1!=e.id&&"root"!=e.quicktype||(s.addClass("rootlevel_wrap"),t.append('<div class="rootfolder"><i class="material-icons">apps</i><span class="nsb_title">'+RVS_LANG.root+"</span></div>")),"parent"===e.quicktype)s.addClass("rootlevel_wrap"),t.append('<div class="rootfolder"><i class="material-icons">reply</i><span class="nsb_title">'+RVS_LANG.parent+"</span></div>"),s.append(jQuery('<div class="rsle_folder"><i class="material-icons">folder_open</i></div>'));else{s.append(jQuery('<div class="rsle_folder"><i class="material-icons">folder_open</i></div>'));for(o=1;o<=4;o++){var p=jQuery('<div class="folder_img_placeholder folder_img_'+o+'"></div>');if(void 0!==e.children&&e.children.length>=o){var _=findRekursiveChildImage(RVS.F.getOVSliderIndex(e.children[e.children.length-o]));-1!==_&&!1!==_&&RVS.F.setObjBg(sliderLibrary.sliders[_],p)}t.append(p)}}else{var y=jQuery('<div class="image_container"></div>');s.append(y),RVS.F.setObjBg(e,y)}return s},findRekursiveChildImage=function(e,i){if(i=void 0!==i&&i,!0===sliderLibrary.sliders[e].folder&&!0!==i){var r=sliderLibrary.sliders[e].children.length-1;for(var t in sliderLibrary.sliders[e].children)if(!1===i){var s=RVS.F.getOVSliderIndex(sliderLibrary.sliders[e].children[r-t]);void 0!==sliderLibrary.sliders[s]&&!0===sliderLibrary.sliders[s].folder?i=findRekursiveChildImage(s,i):void 0!==sliderLibrary.sliders[s]&&""!==sliderLibrary.sliders[s].bg&&(i=s)}}else void 0!==sliderLibrary.sliders[e]&&""!==sliderLibrary.sliders[e].bg&&(i=e);return i},buildOVPagination=function(e){if(sliderLibrary.inSlideMode)tpGS.gsap.to("#modulesoverviewheader, #modulesoverviewfooter",.5,{autoAlpha:0,opacity:0,ease:"power3.inOut"});else{var i=Math.max(1,Math.floor((sliderLibrary.output.width()+30)/290)),r=i,t=RVS.F.getCookie("rs6_overview_pagination");if(sliderLibrary.maxAmountPerPage!==i){jQuery("#pagination_select_2").select2RS("destroy"),sliderLibrary.maxAmountPerPage=i;for(var s=0;s<=4;s++){var a=document.getElementById("page_per_page_"+s);a.value=r,a.selected=a.value===t,a.innerHTML=RVS_LANG.show+" "+r+" "+RVS_LANG.perpage,r*=2}jQuery("#pagination_select_2").select2RS({minimumResultsForSearch:"Infinity"})}sliderLibrary.inited=!0,sliderLibrary.sliders.length<=i?(sliderLibrary.output.find(".overview_header_footer").hide(),sliderLibrary.output.find(".overview_pagination").val("all")):sliderLibrary.output.find(".overview_header_footer").show(),sliderLibrary.selectedPage=e.keeppage&&jQuery(".page_button.global_library_pagination.selected").length>0?jQuery(".page_button.global_library_pagination.selected").data("page"):1;var d,l=sliderLibrary.output.find(".ov-pagination"),o=void 0===sliderLibrary.output.find(".overview_pagination").select2RS("data")[0]?4:sliderLibrary.output.find(".overview_pagination").select2RS("data")[0].id,n=0,c=sliderLibrary.filteredList.length;if(c=-1!=sliderLibrary.selectedFolder?c+Math.ceil(c/parseInt(o)):c,sliderLibrary.pageAmount="all"===o?1:Math.ceil(c/parseInt(o)),sliderLibrary.itemPerPage="all"===o?99999:parseInt(o),sliderLibrary.itemPerPage=-1!=sliderLibrary.selectedFolder?sliderLibrary.itemPerPage-1:sliderLibrary.itemPerPage,l[0].innerHTML="",sliderLibrary.selectedPage=sliderLibrary.selectedPage>sliderLibrary.pageAmount?sliderLibrary.pageAmount:sliderLibrary.selectedPage,sliderLibrary.pageAmount>1)for(s=1;s<=sliderLibrary.pageAmount;s++)d=s!==sliderLibrary.selectedPage?"":"selected",l[0].innerHTML+='<div data-page="'+s+'" class="'+d+' page_button global_library_pagination">'+s+"</div>",1===s?l[0].innerHTML+='<div data-page="-9999" class="page_button global_library_pagination">...</div>':s===sliderLibrary.pageAmount-1&&(l[0].innerHTML+='<div data-page="9999" class="page_button global_library_pagination">...</div>');for(var u in smartPagination(),sliderLibrary.pages=[],sliderLibrary.pages.push([]),sliderLibrary.filteredList)sliderLibrary.filteredList.hasOwnProperty(u)&&(sliderLibrary.pages[sliderLibrary.pages.length-1].push(sliderLibrary.filteredList[u]),++n===sliderLibrary.itemPerPage&&(n=0,sliderLibrary.pages.push([])))}},resetAllOVFilters=function(){sliderLibrary.selectedPage=1,jQuery("#sel_overview_sorting").val("datedesc").trigger("change.select2RS"),jQuery("#sel_overview_filtering").val("all").trigger("change.select2RS"),RVS.DOC.trigger("updateSlidersOverview",{val:"datedesc",eventparam:"#reset_sorting",ignoreRebuild:!0,ignoreCookie:!0}),RVS.DOC.trigger("updateSlidersOverview",{val:"all",eventparam:"#reset_filtering",ignoreCookie:!0})},smartPagination=function(){sliderLibrary.pageAmount=parseInt(sliderLibrary.pageAmount,0),sliderLibrary.selectedPage=parseInt(sliderLibrary.selectedPage,0),jQuery(".page_button.global_library_pagination").each(function(){var e=parseInt(this.dataset.page,0),i=!1;1!==e&&e!==sliderLibrary.pageAmount||(i=!0),sliderLibrary.selectedPage<4&&e>0&&e<5&&(i=!0),sliderLibrary.selectedPage>sliderLibrary.pageAmount-3&&e>sliderLibrary.pageAmount-4&&e<9999&&(i=!0),e<9999&&e>=sliderLibrary.selectedPage-1&&e<=sliderLibrary.selectedPage+1&&e>0&&(i=!0),(sliderLibrary.selectedPage>=4&&-9999===e||sliderLibrary.selectedPage<=sliderLibrary.pageAmount-3&&9999===e)&&(i=!0),sliderLibrary.pageAmount<8&&(i=9999!=e&&-9999!=e),this.style.display=i?"inline-block":"none"})},filterMatch=function(e){return e.filter===e.o.source||e.filter===e.o.type||e.filter===e.o.size||jQuery.inArray(e.filter,e.o.tags)>=0},getParentPath=function(e){var i=[],r=0;for(i.push(e);-1!==e&&r<1e4;){r++;var t=RVS.F.getOVSliderIndex(e);e=-1!==t&&void 0!==sliderLibrary.sliders[t]&&sliderLibrary.sliders[t].parent||-1,i.push(e)}return i},updateOVFilteredList=function(e){e=void 0===e?{force:!1,keeppage:!1,noanimation:!1,focusItem:!1}:e;var i=sliderLibrary.output.find(".overview_filterby").select2RS("data")[0];switch(sliderLibrary.output.find(".overview_sortby").select2RS("data")[0].id){case"datedesc":sliderLibrary.sliders.sort(function(e,i){return i.id-e.id});break;case"title":sliderLibrary.sliders.sort(function(e,i){return e.title.toUpperCase().localeCompare(i.title.toUpperCase())});break;case"titledesc":sliderLibrary.sliders.sort(function(e,i){return i.title.toUpperCase().localeCompare(e.title.toUpperCase())});break;default:sliderLibrary.sliders.sort(function(e,i){return e.id-i.id})}sliderLibrary.oldlist=sliderLibrary.filteredList,sliderLibrary.filteredList=[];var r=jQuery("#searchmodules").val().toLowerCase();for(var t in sliderLibrary.sliders)if(sliderLibrary.sliders.hasOwnProperty(t)){var s=sliderLibrary.sliders[t];s.parent=void 0===s.parent?-1:s.parent;var a=getParentPath(s.parent);(r.length>2&&jQuery.inArray(sliderLibrary.selectedFolder,a)>=0&&(s.title.toLowerCase().indexOf(r)>=0||s.tags.toString().toLowerCase().indexOf(r)>=0)&&("all"==i.id||filterMatch({o:s,filter:i.id}))||r.length<3&&"all"==i.id&&s.parent==sliderLibrary.selectedFolder||r.length<3&&filterMatch({o:s,filter:i.id})&&jQuery.inArray(sliderLibrary.selectedFolder,a)>=0)&&sliderLibrary.filteredList.push(s.id)}sliderLibrary.filteredList.length<1&&-1===sliderLibrary.selectedFolder&&0===r.length?tpGS.gsap.to("#modulesoverviewheader, #modulesoverviewfooter",.5,{autoAlpha:0,opacity:0,ease:"power3.inOut"}):tpGS.gsap.to("#modulesoverviewheader, #modulesoverviewfooter",.5,{autoAlpha:1,opacity:1,ease:"power3.inOut"}),sliderLibrary.isSlideMode&&tpGS.gsap.to("#modulesoverviewheader, #modulesoverviewfooter",.5,{autoAlpha:0,opacity:0,ease:"power3.inOut"}),(e.force||JSON.stringify(sliderLibrary.oldlist)!==JSON.stringify(sliderLibrary.filteredList))&&(buildOVPagination({keeppage:e.keeppage,focusItem:e.focusitem}),drawOVOverview({noanimation:e.noanimation,focusItem:e.focusItem}))},updateParentAttributes=function(){for(var e in sliderLibrary.sliders)if(sliderLibrary.sliders.hasOwnProperty(e)&&sliderLibrary.sliders[e].folder)for(var i in sliderLibrary.sliders[e].children)if(sliderLibrary.sliders[e].children.hasOwnProperty(i)){var r=RVS.F.getOVSliderIndex(sliderLibrary.sliders[e].children[i]);-1!==r&&(sliderLibrary.sliders[r].parent=sliderLibrary.sliders[e].id)}},buildModuleFilters=function(){var e={folders:[],tags:[],types:[],sources:[],sizes:[]};for(var i in e.folders.push({id:-1,title:"Root"}),sliderLibrary.sliders)if(sliderLibrary.sliders.hasOwnProperty(i)){var r=sliderLibrary.sliders[i];e.tags=d(e.tags,r.tags),e.types=d(e.types,r.type),e.sources=d(e.sources,r.source),e.sizes=d(e.sizes,r.size),r.folder&&e.folders.push({id:r.id})}var t=sliderLibrary.output.find(".overview_filterby"),s=t.val();return t.find(".dynamicadded").remove(),l({select:t,array:e.tags,group:"Tags",old:s,sanitize:!0}),l({select:t,array:e.types,group:"Types",old:s}),l({select:t,array:e.sources,group:"Sources",old:s}),l({select:t,array:e.size,group:"Sizes",old:s}),t.select2RS({minimumResultsForSearch:"Infinity",placeholder:"Select From List"}),e},drawFolderListSideBar=function(e){sliderLibrary.filters=buildModuleFilters(),window.showFolderOverview=tpGS.gsap.timeline(),sliderLibrary.sfw[0].innerHTML="",window.showFolderOverview.add(tpGS.gsap.fromTo(sliderLibrary.sfw,.6,{display:"none",x:-400},{display:"block",x:0,ease:"power3.out"}),.1),window.showFolderOverview.add(tpGS.gsap.fromTo(sliderLibrary.sfwu,.3,{display:"none",autoAlpha:0},{display:"block",autoAlpha:.5,ease:"power3.out"}),0);var i=void 0===e?void 0:sliderLibrary.sliders[RVS.F.getOVSliderIndex(e)],r="first_fwlt";if(-1!==sliderLibrary.selectedFolder&&(sliderLibrary.sfw.append('<div class="folder_wrap_level_title '+r+'">'+RVS_LANG.toplevels+"</div>"),buildDroppableList(buildOVElement({id:-1,title:"Root",quicktype:"root",folder:!0,children:[]},!0),0),r=""),void 0!==i&&-1!==i.parent&&-1!==i.parent){var t=sliderLibrary.sliders[RVS.F.getOVSliderIndex(i.parent)];void 0!==t&&-1!==t.parent&&buildDroppableList(buildOVElement({id:t.parent,title:"Parent",quicktype:"parent",folder:!0,children:[]},!0),0)}var s=!1;for(var a in sliderLibrary.filters.folders)if(sliderLibrary.filters.folders.hasOwnProperty(a)){var d=RVS.F.getOVSliderIndex(sliderLibrary.filters.folders[a].id);void 0!==i&&void 0!==sliderLibrary.sliders[d]&&i.parent!==sliderLibrary.sliders[d].parent||-1!==d&&(!1===s&&(sliderLibrary.sfw.append('<div class="folder_wrap_level_title '+r+'">'+RVS_LANG.siblings+"</div>"),s=!0,r=""),buildDroppableList(buildOVElement({id:sliderLibrary.filters.folders[a].id,title:sliderLibrary.sliders[d].title,folder:!0,children:sliderLibrary.sliders[d].children},!0),a))}for(var a in s=!1,sliderLibrary.filters.folders)if(sliderLibrary.filters.folders.hasOwnProperty(a)){d=RVS.F.getOVSliderIndex(sliderLibrary.filters.folders[a].id);void 0!==i&&void 0!==sliderLibrary.sliders[d]&&i.parent===sliderLibrary.sliders[d].parent||void 0!==i&&i.parent===sliderLibrary.filters.folders[a].id||-1!==d&&(!1===s&&(sliderLibrary.sfw.append('<div class="folder_wrap_level_title '+r+'">'+RVS_LANG.otherfolders+"</div>"),s=!0,r=""),buildDroppableList(buildOVElement({id:sliderLibrary.filters.folders[a].id,title:sliderLibrary.sliders[d].title,folder:!0,children:sliderLibrary.sliders[d].children},!0),a))}sliderLibrary.sfw.RSScroll({wheelPropagation:!1})},buildDroppableList=function(e,i){window.showFolderOverview.add(tpGS.gsap.from(e,.2,{x:"-150%",ease:"power3.out"}),.2+.04*i),doOVDroppable(e),sliderLibrary.sfw.append(e)},doOVDroppable=function(e){e.droppable({drop:function(i,r){var t=this.dataset.sliderid,s=r.draggable[0].dataset.sliderid,d=RVS.F.getOVSliderIndex(t),l=RVS.F.getOVSliderIndex(s);if(t!==s){if(-1!=sliderLibrary.sliders[l].parent){var o=RVS.F.getOVSliderIndex(sliderLibrary.sliders[l].parent);sliderLibrary.sliders[o].children.splice(jQuery.inArray(s,sliderLibrary.sliders[o].children),1),RVS.F.ajaxRequest("save_slider_folder",{id:sliderLibrary.sliders[o].id,children:sliderLibrary.sliders[o].children},function(e){})}-1!=e&&-1!==d&&(sliderLibrary.sliders[d].children=void 0===sliderLibrary.sliders[d].children||0===sliderLibrary.sliders[d].children.length?[]:sliderLibrary.sliders[d].children,sliderLibrary.sliders[d].children.push(s),RVS.F.ajaxRequest("save_slider_folder",{id:t,children:sliderLibrary.sliders[d].children},function(e){})),sliderLibrary.filters=buildModuleFilters(),sliderLibrary.sliders[l].parent=t,a({keepOverlay:!1}),updateOVFilteredList({force:!0,keeppage:!0,noanimation:!1})}return window.showFolderOverview.reverse(),window.droppedIntoFolder=!0,!1}})},doOVDraggable=function(e){e.data("draggable")&&e.draggable("destroy"),e.draggable({distance:20,helper:"clone",appendTo:"body",revert:"invalid",start:function(e,i){window.droppedIntoFolder=!1,drawFolderListSideBar(i.helper[0].dataset.sliderid)},stop:function(e,i){!1===window.droppedIntoFolder&&(window.showFolderOverview.reverse(),a({keepOverlay:!1}),updateOVFilteredList({force:!0,keeppage:!0,noanimation:!1}))}})},doOVSortable=function(e){e.data("sortable")&&e.sortable("destroy"),e.sortable({items:".rs_library_element",start:function(){a({keepOverlay:!1}),RVS.S.OVslidesOldOrder=[],e.find(".rs_library_element").each(function(e){var i=(""+this.dataset.slideid).replace("slide_id_","");void 0!==i&&"undefined"!==i&&RVS.S.OVslidesOldOrder.push(i)})},stop:function(i,r){RVS.S.OVslidesNeworder=[],e.find(".rs_library_element").each(function(e){var i=(""+this.dataset.slideid).replace("slide_id_","");if(slide=sliderLibrary.slides[this.dataset.sliderid][i],slide.order=e+1,slide.ref.find(".slide_order_number").html("#"+(e+1)),RVS.S.OVslidesNeworder.push(i),0===e){var r=RVS.F.getOVSliderIndex(this.dataset.sliderid);sliderLibrary.sliders[r].bg.type=void 0===slide.bg?slide.customAdminThumbSrc.type:slide.bg.type,sliderLibrary.sliders[r].bg.src=void 0===slide.bg?slide.customAdminThumbSrc.src:slide.bg.src,sliderLibrary.sliders[r].bg.style=void 0===slide.bg?slide.customAdminThumbSrc.style:slide.bg.style,RVS.F.setObjBg(sliderLibrary.sliders[r],sliderLibrary.sliders[r].ref.find(".image_container"))}}),RVS.S.OVslidesOldOrder.toString()!==RVS.S.OVslidesNeworder.toString()&&RVS.F.ajaxRequest("update_slide_order",{slide_ids:RVS.S.OVslidesNeworder},function(e){})}})},initTwitter=function(e){var i,r=document.getElementsByTagName("script")[0];return(i=document.createElement("script")).id=e,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),window.waitForTwitter=setInterval(function(){if(jQuery("#twitter_wrapper iframe").contents().find(".timeline-Widget").length>0){var e=jQuery("#twitter_wrapper iframe").contents();e.find(".timeline-Widget").css({backgroundColor:"transparent"}),e.find(".timeline-Body").css({borderColor:"#323438"}),e.find(".timeline-Tweet-text").css({fontSize:"14px",lineHeight:"22px"}),e.find(".timeline-Header").hide(),e.find(".timeline-TweetList-tweet").css({borderColor:"#323438",paddingTop:"20px"}),e.find(".timeline-Tweet--isRetweet").closest("li").remove(),e.find(".timeline-LoadMore").remove(),e.find(".TwitterCard-container").css({borderColor:"#323438"}),clearInterval(window.waitForTwitter)}},100),{}},updateSysChecks=function(){for(var e in window.rs_system)if(window.rs_system.hasOwnProperty(e)){var i=window.rs_system[e];"object"==typeof i&&1==i.good||!0===i||"1"===i?jQuery("#syscheck_"+e).removeClass("warning"):jQuery("#syscheck_"+e).addClass("warning")}},checkAddOnVersions=function(){if("true"===RVS.ENV.activated||!0===RVS.ENV.activated){var e="";for(var i in RVS.ENV.addOns_to_update=void 0===RVS.ENV.addOns_to_update?{}:RVS.ENV.addOns_to_update,RVS.ENV.addOns_to_updateArray=[],window.addOnUpdateCounter=0,RVS.ENV.addOns_to_update)RVS.ENV.addOns_to_updateArray.push(i),e+='<div id="need_update_'+i+'" class="addonlist_to_update">'+RVS.ENV.addOns_to_update[i].title+" "+RVS_LANG.to+" "+RVS.ENV.addOns_to_update[i].new+'<div class="addonlist_to_update_single_status circle-loader"><div class="checkmark draw"></div></div></div>';""!==e&&RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"extension",title:RVS_LANG.addonsupdatetitle,maintext:RVS_LANG.addonsupdatemain,subtext:e,do:{icon:"check_circle",text:RVS_LANG.updateallnow,event:"updateAddonsNow",keepDialog:!0},cancel:{icon:"cancel",text:RVS_LANG.updatelater},swapbuttons:!0})}},updateNextRequiredAddon=function(){if(window.addOnUpdateCounter<RVS.ENV.addOns_to_updateArray.length){var e=RVS.ENV.addOns_to_updateArray[window.addOnUpdateCounter],i=RVS.ENV.addOns_to_update[e],r=jQuery("#need_update_"+e);r.find(".addonlist_to_update_single_status").addClass("inload"),RVS.F.ajaxRequest("activate_addon",{addon:e,update:!0},function(e){e.success?(r.find(".addonlist_to_update_single_status").removeClass("inload").addClass("load-complete"),i.updated=!0):r.find(".addonlist_to_update_single_status").removeClass("inload").addClass("load-complete").addClass("failure"),window.addOnUpdateCounter++,updateNextRequiredAddon()},!1)}else jQuery("#decmod_do_btn").html('<i id="decmod_do_icon" class="material-icons">done</i><span id="decmod_do_txt">'+RVS_LANG.updatedoneexist,NaN).show().off("click").on("click",function(){RVS.F.RSDialog.close(),RVS.F.RSDialog.close()})},initLocalListeners=function(){RVS.WIN.on("resize",function(){clearTimeout(window.resizedOverviewTimeOut),window.resizedOverviewTimeOut=setTimeout(function(){var e=Math.floor((sliderLibrary.output.width()+30)/290);e=e<1?1:e,sliderLibrary.maxAmountPerPage!==e&&updateOVFilteredList({force:!0,keeppage:!0,noanimation:!0})},10)}),RVS.DOC.on("updateAddonsNow",function(){updateNextRequiredAddon(),jQuery("#decmod_dont_btn").hide(),jQuery("#decmod_do_btn").hide()}),RVS.DOC.on("updateThePlugin",function(){wp.updates.maybeRequestFilesystemCredentials(),RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.updatingplugin});var e={plugin:RVS.ENV.slug_path,slug:RVS.ENV.slug,checkforupdates:!0,success:function(e){RVS.F.showWaitAMinute({fadeOut:0}),RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"update",title:RVS_LANG.updateplugin,maintext:"",subtext:RVS_LANG.updatepluginsuccesssubtext+" <strong>"+e.newVersion+"</strong>",do:{icon:"check_circle",text:RVS_LANG.reloadpage,event:"reloadpagenow"}})},error:function(e){RVS.F.showWaitAMinute({fadeOut:0});var i="<br>";for(var r in e.debug)i+="<span style='white-space: nowrap;overflow: hidden;width: 400px;margin-bottom: 5px;font-size: 12px;display: block;'>- "+e.debug[r]+"</span>";i+="<span style='white-space: nowrap;overflow: hidden;width: 400px;margin-bottom: 5px;font-size: 12px;display: block;'>"+RVS_LANG.tryagainlater+"</span>",RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"update",title:RVS_LANG.updatepluginfailed,maintext:RVS_LANG.updatepluginfailure,subtext:(void 0!==e&&void 0!==e.errorMessage&&e.errorMessage.indexOf("PCLZIP_ERR_BAD_FORMAT")>=0?RVS_LANG.licenseissue:e.errorMessage)+"<br>"+i,do:{icon:"error",text:RVS_LANG.leave,event:""}})}};wp.updates.ajax("update-plugin",e)}),RVS.DOC.on("click","#updateplugin",function(){if(!(RVS.F.compareVersion(RVS.ENV.latest_version,RVS.ENV.revision)<=0))if(this.className.indexOf("halfdisabled")>=0){t();var e={val:window.scroll_top};tpGS.gsap.to(e,.6,{val:window.ov_scroll_targets[2].top-200,onUpdate:function(){RVS.WIN.scrollTop(e.val)},ease:"power3.out"}),t()}else RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"update",title:RVS_LANG.updateplugin,maintext:RVS_LANG.areyousureupdateplugin,subtext:RVS_LANG.updatingtakes,do:{icon:"check_circle",text:RVS_LANG.updatenow,event:"updateThePlugin"},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0})}),RVS.DOC.on("click",".link_to_slides_overview",function(){sliderLibrary.selectedSlider=this.dataset.id,a({keepOverlay:!1});jQuery(".overview_elements");sliderLibrary.slides=void 0===sliderLibrary.slides?{}:sliderLibrary.slides,sliderLibrary.inSlideMode=!0,void 0===sliderLibrary.slides[sliderLibrary.selectedSlider]?(sliderLibrary.slides[sliderLibrary.selectedSlider]={},RVS.F.ajaxRequest("get_slides_by_slider_id",{id:this.dataset.id},function(e){if(e.success){for(var i in e.slides)e.slides.hasOwnProperty(i)&&(sliderLibrary.slides[sliderLibrary.selectedSlider][e.slides[i].id]=jQuery.extend(!0,{},e.slides[i]));r(),drawOVOverview()}})):(r(),drawOVOverview())}),RVS.DOC.on("reloadpagenow",function(){tpGS.gsap.to(jQuery("#wpwrap"),.5,{opacity:0}),jQuery("#waitaminute").appendTo("body"),RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.reLoading}),window.location.reload()}),RVS.DOC.on("click",".link_to_slideadmin_a",function(){"A"==this.tagName&&void 0!==this.href&&(tpGS.gsap.to(jQuery("#wpwrap"),.5,{opacity:0}),jQuery("#waitaminute").appendTo("body"),RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.editorisLoading+"<span style='display:block;font-size:20px;line-height:25px'>"+RVS_LANG.opening+" "+this.dataset.title+"</span>"}))}),RVS.DOC.on("click",".link_to_quickeditor",function(){var e=jQuery(this).closest(".rs_library_element");RVS.F.openQuickContent({sliderid:e[0].dataset.sliderid})}),RVS.DOC.on("mouseenter",".link_to_slideadmin, .link_to_slides_overview",function(){var e=jQuery(this).closest(".rs_library_element"),i=e.find(".rs_library_el_next");e.find(".title_container")[0]!==document.activeElement&&(i.show(),i.html(this.dataset.info))}),RVS.DOC.on("mousemove",".link_to_quickeditor, .link_to_quickstyleeditor, .link_to_slideadmin_a",function(){var e=jQuery(this).closest(".rs_library_element"),i=e.find(".rs_library_el_next");e.find(".title_container")[0]!==document.activeElement&&(i.show(),i.html(this.dataset.info))}),RVS.DOC.on("mouseleave",".link_to_slideadmin, .link_to_slides_overview",function(){var e=jQuery(this);e.closest(".rs_library_element").find(".rs_library_el_next").hide(),clearTimeout(e.data("tlcount")),void 0!==e.data("tl")&&e.data("tlcount",setTimeout(function(){e.data("tl").reverse()},200))}),RVS.DOC.on("click","#back_one_folder",function(){if(sliderLibrary.inSlideMode)sliderLibrary.inSlideMode=!1,sliderLibrary.output.find(".overview_elements").find(".rs_library_element").detach();else{var e=RVS.F.getOVSliderIndex(sliderLibrary.selectedFolder);sliderLibrary.selectedFolder=sliderLibrary.sliders[e].parent||-1}resetAllOVFilters(),updateOVFilteredList({force:!0,keeppage:!1,noanimation:!1})}),RVS.DOC.on("click",".rsl_breadcrumb",function(){sliderLibrary.inSlideMode&&(sliderLibrary.inSlideMode=!1,sliderLibrary.output.find(".overview_elements").find(".rs_library_element").detach()),sliderLibrary.selectedFolder=parseInt(this.dataset.folderid,0),updateOVFilteredList({force:!0,keeppage:!1,noanimation:!1})}),RVS.DOC.on("click","#slider_folders_wrap_underlay",function(){window.showFolderOverview.reverse()}),RVS.DOC.on("click","#add_folder",function(e,i){RVS.F.createNewFolder(i)}),RVS.DOC.on("click","#rs_db_force_create",function(e,i){RVS.F.ajaxRequest("fix_database_issues",{},function(e){},!1)}),RVS.DOC.on("click","#rs_trigger_font_deletion",function(e,i){RVS.F.ajaxRequest("trigger_font_deletion",{},function(e){},!1)}),RVS.DOC.on("click","#reset_sorting",function(){jQuery("#sel_overview_sorting").val("datedesc").trigger("change.select2RS"),RVS.DOC.trigger("updateSlidersOverview",{val:"datedesc",eventparam:"#reset_sorting",ignoreCookie:!0})}),RVS.DOC.on("click","#reset_filtering",function(){jQuery("#sel_overview_filtering").val("all").trigger("change.select2RS"),RVS.DOC.trigger("updateSlidersOverview",{val:"all",eventparam:"#reset_filtering",ignoreCookie:!0})}),RVS.DOC.on("updateSlidersOverview",function(e,i){if(void 0!==i&&void 0!==i.eventparam){var r="#reset_sorting"===i.eventparam?"datedesc"===i.val?0:1:"all"===i.val?0:1,t=1===r?"inline-block":"none";tpGS.gsap.set(i.eventparam,{autoAlpha:r,display:t})}void 0===i||i.ignoreRebuild||(void 0!==i.val&&!0!==i.ignoreCookie&&RVS.F.setCookie("rs6_overview_pagination",i.val,360),a({keepOverlay:!1}),updateOVFilteredList({force:!0,keeppage:!1,noanimation:!1}))}),RVS.DOC.on("click",".global_library_pagination",function(){a({keepOverlay:!1}),jQuery(".global_library_pagination.selected").removeClass("selected"),jQuery(this).addClass("selected"),sliderLibrary.selectedPage=-9999===parseInt(this.dataset.page,0)?sliderLibrary.selectedPage=parseInt(sliderLibrary.selectedPage,0)-3:9999===parseInt(this.dataset.page,0)?sliderLibrary.selectedPage=parseInt(sliderLibrary.selectedPage,0)+3:this.dataset.page,smartPagination(),drawOVOverview()}),RVS.DOC.on("keyup","#searchmodules",function(){a({keepOverlay:!1}),clearTimeout(window.searchKeyUp),window.searchKeyUp=setTimeout(function(){updateOVFilteredList()},200)}),RVS.DOC.on("select2RS:select select2RS:unselect",".elementtags",function(e){var i=RVS.F.getOVSliderIndex(e.target.dataset.id);for(var r in sliderLibrary.sliders[i].tags=[],e.target.options)e.target.options.hasOwnProperty(r)&&void 0!==e.target.options[r]&&e.target.options[r].selected&&sliderLibrary.sliders[i].tags.push(RVS.F.sanitize_input(e.target.options[r].value.toLowerCase()));RVS.F.ajaxRequest("update_slider_tags",{id:sliderLibrary.sliders[i].id,tags:sliderLibrary.sliders[i].tags},function(e){},!1),sliderLibrary.filters=buildModuleFilters(),jQuery(".elementtags").each(function(){var e=jQuery(this);this.dataset.id;for(var i in e.find("option").remove(),sliderLibrary.filters.tags)if(sliderLibrary.filters.tags.hasOwnProperty(i)){var r=RVS.F.sanitize_input(sliderLibrary.filters.tags[i].toLowerCase()),t=RVS.F.getOVSliderIndex(this.dataset.id),s=jQuery.inArray(r,sliderLibrary.sliders[t].tags)>=0?' selected="selected" ':"";e.append('<option value="'+r+'" '+s+">"+r+"</option>")}})}),RVS.DOC.on("keyup",".title_container",function(e){13===e.keyCode&&(jQuery(document.activeElement).blur(),a({keepOverlay:!1}))}),RVS.DOC.on("click",".show_rsle, .rsle_folder",function(){var e=jQuery(this).closest(".rs_library_element"),i=e.find(".rsle_tbar"),r=e.hasClass("selected"),t=e.attr("id"),s=e[0].dataset.sliderid,d=(""+e[0].dataset.slideid).replace("slide_id_","");r?(a({keepOverlay:!1}),window.lastBreacCrumbText="",jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText)):(a({keepOverlay:!0,id:t}),clearTimeout(window.unsetFocusOverviewOverlay),e.addClass("selected").addClass("menuopen"),tpGS.gsap.fromTo(i,.3,{y:"-100%"},{opacity:1,y:"0%",ease:"power3.out"}),jQuery(".overview_elements").addClass("infocus"),window.lastBreacCrumbText=sliderLibrary.inSlideMode?sliderLibrary.slides[s][d].title:sliderLibrary.sliders[RVS.F.getOVSliderIndex(s)].title,jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText))}),RVS.DOC.on("mouseenter",".rs_library_element",function(){sliderLibrary.inSlideMode?jQuery("#rsl_bread_selected").html(sliderLibrary.slides[this.dataset.sliderid][(""+this.dataset.slideid).replace("slide_id_","")].title):-1!=this.dataset.sliderid&&jQuery("#rsl_bread_selected").html(sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.sliderid)].title)}),RVS.DOC.on("mouseleave",".rs_library_element",function(){window.lastBreacCrumbText=void 0===window.lastBreacCrumbText?"":window.lastBreacCrumbText,jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText)}),RVS.DOC.on("click",".overview_elements_overlay",function(){a({keepOverlay:!1})}),RVS.DOC.on("click",".tagsslider",function(){var e=jQuery(this).closest(".rs_library_element");e.toggleClass("in_tag_view"),e.removeClass("in_folder_view")}),RVS.DOC.on("click",".renameslider",function(){jQuery(this).closest(".rs_library_element").find(".title_container").focus()}),RVS.DOC.on("click",".unpublishslide",function(){var e=jQuery(this).closest(".rs_library_element"),i=this.dataset.id,r=this.dataset.slideid;sliderLibrary.inSlideMode&&RVS.F.ajaxRequest("save_slide_advanced",{slide_id:r,params:{publish:{state:"unpublished"}},slider_id:i},function(i){i.success&&e.addClass("unpublished")})}),RVS.DOC.on("click",".publishslide",function(){var e=jQuery(this).closest(".rs_library_element");sliderId=this.dataset.id,slideId=this.dataset.slideid,sliderLibrary.inSlideMode&&RVS.F.ajaxRequest("save_slide_advanced",{slide_id:slideId,params:{publish:{state:"published"}},slider_id:sliderId},function(i){i.success&&e.removeClass("unpublished")})}),RVS.DOC.on("click",".adminthumb",function(){jQuery(this).closest(".rs_library_element");var e=RVS.F.getOVSliderIndex(this.dataset.id),i=this.dataset.id,r=this.dataset.slideid;RVS.F.openAddImageDialog(RVS_LANG.choose_image,function(t,s){RVS.F.ajaxRequest("save_slide_advanced",{slide_id:r,params:{thumb:{customAdminThumbSrc:t,customAdminThumbSrcId:s}},slider_id:i},function(s){a({keepOverlay:!1}),s.success&&(sliderLibrary.sliders[e].bg.type="image",sliderLibrary.sliders[e].bg.src=t,RVS.F.setObjBg(sliderLibrary.sliders[e],sliderLibrary.sliders[e].ref.find(".image_container")),void 0!==sliderLibrary.slides&&void 0!==sliderLibrary.slides[i]&&void 0!==sliderLibrary.slides[i][r]&&(sliderLibrary.slides[i][r].bg={type:"image",src:t},RVS.F.setObjBg(sliderLibrary.slides[i][r],sliderLibrary.slides[i][r].ref.find(".image_container"))))})},!1)}),RVS.DOC.on("change",".title_container",function(){var e=this,i=RVS.F.getOVSliderIndex(this.dataset.id),r=this.dataset.id,t=this.dataset.slideid,s=this.value;sliderLibrary.inSlideMode?RVS.F.ajaxRequest("save_slide_advanced",{slide_id:t,params:{title:this.value},slider_id:r},function(i){i.success&&(e.value=s),sliderLibrary.slides[r][t].title=s}):RVS.F.ajaxRequest("update_slider_name",{id:this.dataset.id,title:this.value},function(r){r.success&&(e.value=r.title),sliderLibrary.sliders[i].title=r.title})}),RVS.DOC.on("click",".optimizeslider",function(){RVS.F.openOptimizer({sliderid:this.dataset.id})}),RVS.DOC.on("click",".deleteslider",function(){if(sliderLibrary.inSlideMode){var e=jQuery(this).closest(".rs_library_element");window.deleteSlide=(""+e[0].dataset.slideid).replace("slide_id_",""),a({keepOverlay:!1});var i=0;for(var r in sliderLibrary.slides[sliderLibrary.selectedSlider])sliderLibrary.slides[sliderLibrary.selectedSlider].hasOwnProperty(r)&&i++;i<2?RVS.F.showInfo({content:RVS_LANG.lastslidenodelete,type:"error",showdelay:0,hidedelay:2,hideon:"",event:""}):RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"delete",title:RVS_LANG.deleteslide,maintext:RVS_LANG.cannotbeundone,subtext:RVS_LANG.areyousuretodelete+"<strong>"+sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide].title+"</strong> ?",do:{icon:"delete",text:RVS_LANG.yesdeleteslide,event:"deletemarkedslide"},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0})}else{var t=RVS.F.getOVSliderIndex(this.dataset.id);a({keepOverlay:!1}),window.deleteSlidersIndex=0,sliderLibrary.sliders[t].folder?(window.deleteSliders=function e(i,r){i=void 0===i?[]:i;var t=sliderLibrary.sliders[r];for(var s in t.children)if(t.children.hasOwnProperty(s)){var a=RVS.F.getOVSliderIndex(t.children[s]);sliderLibrary.sliders[a]&&sliderLibrary.sliders[a].folder&&(i=e(i,a)),sliderLibrary.sliders[a]&&i.push(t.children[s])}return i}([],t),window.deleteSliders.push(this.dataset.id),RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"delete",title:RVS_LANG.deleteslider,maintext:RVS_LANG.cannotbeundone,subtext:RVS_LANG.areyousuretodeleteeverything+" <strong>"+sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.id)].title+"</strong> ?",do:{icon:"delete",text:RVS_LANG.yesdeleteall,event:"deletemarkedslider"},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0})):(window.deleteSliders=[this.dataset.id],RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"delete",title:RVS_LANG.deleteslider,maintext:RVS_LANG.cannotbeundone,subtext:RVS_LANG.areyousuretodelete+" <strong>"+sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.id)].title+"</strong> ?",do:{icon:"delete",text:RVS_LANG.yesdelete,event:"deletemarkedslider"},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0}))}}),RVS.DOC.on("deletemarkedslide",function(){RVS.F.ajaxRequest("delete_slide",{slide_id:window.deleteSlide},function(e){e.success&&(void 0!==sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide]&&(void 0!==sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide].ref&&sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide].ref.remove(),delete sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide],sliderLibrary.output.find(".overview_elements").find(".rs_library_element").each(function(e){var i=sliderLibrary.slides[this.dataset.sliderid][(""+this.dataset.slideid).replace("slide_id_","")];if(i.order=e+1,i.ref.find(".slide_order_number").html("#"+(e+1)),0===e){var r=RVS.F.getOVSliderIndex(this.dataset.sliderid);sliderLibrary.sliders[r].bg.type=void 0===i.bg?i.customAdminThumbSrc.type:i.bg.type,sliderLibrary.sliders[r].bg.src=void 0===i.bg?i.customAdminThumbSrc.src:i.bg.src,sliderLibrary.sliders[r].bg.style=void 0===i.bg?i.customAdminThumbSrc.style:i.bg.style,RVS.F.setObjBg(sliderLibrary.sliders[r],sliderLibrary.sliders[r].ref.find(".image_container"))}})))},void 0,void 0,RVS_LANG.deletingsingleslide+"<span style='display:block;font-size:20px;line-height:25px'>"+sliderLibrary.slides[sliderLibrary.selectedSlider][window.deleteSlide].title+"</span>")}),RVS.DOC.on("deletemarkedslider",function(){window.deletedSliderSINDEX=RVS.F.getOVSliderIndex(window.deleteSliders[window.deleteSlidersIndex]),window.mayDeleteFolder=sliderLibrary.sliders[window.deletedSliderSINDEX],RVS.F.ajaxRequest("delete_slider",{id:window.deleteSliders[window.deleteSlidersIndex]},function(e){if(e.success){if(void 0!==window.mayDeleteFolder&&-1!=window.mayDeleteFolder.parent){var i=RVS.F.getOVSliderIndex(window.mayDeleteFolder.parent);sliderLibrary.sliders[i]?sliderLibrary.sliders[i].children.splice(jQuery.inArray(window.mayDeleteFolder.id,sliderLibrary.sliders[i].children),1):console.log("Info:Folder with Index "+i+"  is not existing any more.")}sliderLibrary.sliders[window.deletedSliderSINDEX]&&sliderLibrary.sliders[window.deletedSliderSINDEX].ref&&sliderLibrary.sliders[window.deletedSliderSINDEX].ref.remove(),jQuery("#slide_id_"+window.deleteSliders[window.deleteSlidersIndex]).remove(),sliderLibrary.sliders.splice(window.deletedSliderSINDEX,1)}window.deleteSlidersIndex++,window.deleteSlidersIndex<window.deleteSliders.length?RVS.DOC.trigger("deletemarkedslider"):(sliderLibrary.filters=buildModuleFilters(),updateOVFilteredList({force:!0,keeppage:!0,noanimation:!1}))},void 0,void 0,RVS_LANG.deletingslider+"<span style='display:block;font-size:20px;line-height:25px'>"+(sliderLibrary.sliders[window.deletedSliderSINDEX]?sliderLibrary.sliders[window.deletedSliderSINDEX].alias:window.deletedSliderSINDEX)+"</span>")}),RVS.DOC.on("click",".exportslider, .exporthtmlslider",function(){var e=this.className.indexOf("exportslider")>=0?"export_slider":"export_slider_html";window.exportSliders=[this.dataset.id],window.exportSlidersIndex=0,RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"cloud_download",title:RVS_LANG.exportslider+("export_slider_html"===e?" "+RVS_LANG.ashtmlexport:""),maintext:RVS_LANG.exportslidertxt,subtext:RVS_LANG.areyousuretoexport+sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.id)].alias,do:{icon:"cloud_download",text:RVS_LANG.yesexport,event:"exportmarkedslider",eventparam:e},cancel:{icon:"cancel",text:RVS_LANG.cancel},swapbuttons:!0})}),RVS.DOC.on("exportmarkedslider",function(e,i){a({keepOverlay:!1}),window.lastBreacCrumbText="",jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText),location.href=ajaxurl+(-1===ajaxurl.indexOf("?")?"?":"&")+"action="+RVS.ENV.plugin_dir+"_ajax_action&client_action="+i+"&nonce="+RVS.ENV.nonce+"&id="+window.exportSliders[window.exportSlidersIndex]}),RVS.DOC.on("click","#collapse-button",s),RVS.DOC.on("click","#rbm_globalsettings .rbm_close",function(){RVS.F.RSDialog.close()}),RVS.DOC.on("click",".rso_scrollmenuitem",function(){if("globalsettings"!==this.id){if("rso_menu_notices"!==this.id&&"rso_menu_updatewarning"!==this.id){if("contactsupport"===this.id)return"true"!==RVS.ENV.activated&&!0!==RVS.ENV.activated?void RVS.F.showRegisterSliderInfo():void window.open("https://themepunch.support/","_blank");if("linktodocumentation"!==this.id){t();var e={val:window.scroll_top};tpGS.gsap.to(e,.6,{val:window.ov_scroll_targets[this.dataset.ostref].top-200,onUpdate:function(){RVS.WIN.scrollTop(e.val)},ease:"power3.out"}),t()}else window.open("https://www.themepunch.com/support-center","_blank")}}else openGlobalSettings()}),RVS.WIN.resize(s).on("scroll",t),RVS.DOC.on("click",".enter_into_folder",function(){sliderLibrary.selectedFolder=this.dataset.folderid,resetAllOVFilters(),updateOVFilteredList()}),RVS.DOC.on("click","#new_blank_slider",function(){tpGS.gsap.to(jQuery("#wpwrap"),.5,{opacity:0}),jQuery("#waitaminute").appendTo("body"),RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.editorisLoading+"<span style='display:block;font-size:20px;line-height:25px'>"+RVS_LANG.addingnewblankmodule+"</span>"}),RVS.F.ajaxRequest("create_slider",{},function(e){if(e.success){var i=RVS.F.getOVSliderIndex(sliderLibrary.selectedFolder);if(-1!==i){sliderLibrary.sliders[i].children.push(e.slider_id);var r=e.slide_id;RVS.F.ajaxRequest("save_slider_folder",{id:sliderLibrary.selectedFolder,children:sliderLibrary.sliders[i].children},function(e){window.location.href=RVS.ENV.admin_url+"&view=slide&id="+r})}else window.location.href=RVS.ENV.admin_url+"&view=slide&id="+e.slide_id}})}),RVS.DOC.on("highContrast",function(e,i){void 0!==i&&void 0!==i.val&&(!0===i.val?jQuery("body").addClass("rs-high-contrast"):jQuery("body").removeClass("rs-high-contrast"))}),RVS.DOC.on("addNewSlider",function(e,i){if(void 0!==i&&void 0!==i.slider){if(i.slider.parent=sliderLibrary.selectedFolder,sliderLibrary.sliders.push(i.slider),-1!==sliderLibrary.selectedFolder){var r=RVS.F.getOVSliderIndex(sliderLibrary.selectedFolder);-1!==r&&(sliderLibrary.sliders[r].children.push(i.slider.id),i.ignoreAjaxFolderMove||RVS.F.ajaxRequest("save_slider_folder",{id:sliderLibrary.selectedFolder,children:sliderLibrary.sliders[r].children},function(e){},i.silent))}sliderLibrary.filters=buildModuleFilters(),resetAllOVFilters()}}),RVS.DOC.on("addDraftPage",function(e,i){RVS.F.ajaxRequest("create_draft_page",{slider_ids:i.pages,modals:i.modals,additions:i.additions},function(e){e.success&&(window.visitURLCreatedPage=e.open,setTimeout(function(){RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"fiber_new",title:RVS_LANG.blank_page_added,maintext:RVS_LANG.blank_page_created,subtext:void 0!==e.edit&&e.edit.length>0?RVS_LANG.edit_page+': <a class="blankpagelink" href="'+e.edit+'" target="blank">'+e.edit+"</a>":"",do:{icon:"exit_to_app",text:RVS_LANG.visit_page,event:"visitcreatedpage"},cancel:{icon:"cancel",text:RVS_LANG.closeandstay},swapbuttons:!0})},200))})}),RVS.DOC.on("visitcreatedpage",function(){window.open(window.visitURLCreatedPage,"_blank")}),RVS.DOC.on("click","#new_slider_import",function(){jQuery("#filedrop").remove(),RVS.F.browserDroppable.init({success:"addNewSlider"})}),RVS.DOC.on("click",".duplicateslider",function(){var e=RVS.F.getOVSliderIndex(this.dataset.id),i=-1==e?-1:sliderLibrary.sliders[e].parent,r=RVS.F.getOVSliderIndex(i);RVS.F.ajaxRequest("duplicate_slider",{id:this.dataset.id},function(e){e.success&&(e.slider.parent=i,sliderLibrary.sliders.push(e.slider),-1!==r&&(sliderLibrary.sliders[r].children.push(e.slider.id),RVS.F.ajaxRequest("save_slider_folder",{id:i,children:sliderLibrary.sliders[r].children},function(e){})),sliderLibrary.filters=buildModuleFilters(),resetAllOVFilters())})}),RVS.DOC.on("mouseover","#slider_folders_wrap",function(e){window.scrollInterval=setInterval(function(){var e={top:sliderLibrary.sfw.scrollTop()};tpGS.gsap.to(e,.1,{top:sliderLibrary.sfw.scrollTop()+window.scrollIntervalOffset,onUpdate:function(){sliderLibrary.sfw.scrollTop(e.top)}})},110)}),RVS.DOC.on("mousemove","#slider_folders_wrap",function(e){var i=e.pageY-jQuery(this).offset().top-window.innerHeight/2,r=Math.round(window.innerHeight/3),t=i<0?i+r/2:i-r/2;t=i<0?Math.min(t,0):Math.max(t,0),window.scrollIntervalOffset=Math.round(t)/5}),RVS.DOC.on("mouseleave","#slider_folders_wrap",function(e){clearInterval(window.scrollInterval)}),RVS.DOC.on("dragstart dragend",function(e){"dragstart"===e.type&&(RVS.S.dragginginside=!0),"dragend"===e.type&&(RVS.S.dragginginside=!1)}),jQuery("#rs_overview").on(" dragover dragenter ",function(e){RVS.S.dragginginside||0!==jQuery("#filedrop").length||RVS.F.browserDroppable.init({success:"addNewSlider"})}),RVS.DOC.on("click","#activateplugin",function(){if("true"==RVS.ENV.activated||1==RVS.ENV.activated)RVS.F.ajaxRequest("deactivate_plugin",{},function(e){e.success&&(RVS.ENV.activated=!1,RVS.ENV.code="",RVS.F.updateDraw(),RVS.F.isActivated(),RVS.F.notifications())});else{var e=jQuery("#purchasekey").val();RVS.F.ajaxRequest("activate_plugin",{code:e},function(i){i.success&&(RVS.ENV.activated=!0,RVS.ENV.code=e,RVS.F.updateDraw(),RVS.F.isActivated(),RVS.F.notifications())})}}),RVS.DOC.on("click","#check_for_updates",function(){RVS.F.ajaxRequest("check_for_updates",{},function(e){e.success&&(RVS.ENV.latest_version=e.version,jQuery(".available_latest_version").html(RVS.ENV.latest_version),RVS.F.updateDraw(),RVS.F.isActivated())})}),RVS.DOC.on("click",".previewslider",function(){var e=sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.id)];RVS.F.openPreivew({title:this.dataset.title,alias:e.alias,id:this.dataset.id}),a({keepOverlay:!1}),window.lastBreacCrumbText="",jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText)}),RVS.DOC.on("click","#signuptonewsletter",function(){var e=jQuery("#newsletter_mail").val();e.length>0&&e.indexOf("@")>=0&&RVS.F.ajaxRequest("subscribe_to_newsletter",{email:e},function(e){})}),RVS.DOC.on("click","#check_for_themepunchserver",function(){RVS.F.ajaxRequest("check_system",{},function(e){e.success&&(window.rs_system=jQuery.extend(!0,{},e.system),updateSysChecks())})}),RVS.DOC.on("click",".embedslider",function(){var e=sliderLibrary.sliders[RVS.F.getOVSliderIndex(this.dataset.id)],i='<i class="material-icons fullpage_main_icon">playlist_add</i>';i+='<div class="fullpage_title">'+RVS_LANG.embedingLine1+"</div>",i+='<div class="fullpage_content">'+RVS_LANG.embedingLine2+"</div>",i+='<div class="inputrow">',i+="<input class='inputtocopy' id='embed_shortcode_a' readonly value='[rev_slider alias=\""+e.alias+"\"][/rev_slider]'/>",i+='<div class="basic_action_button onlyicon copyshortcode" data-clipboard-action="copy" data-clipboard-target="#embed_shortcode_a"><i class="material-icons">content_copy</i></div>',i+="</div>",i+='<div class="div20"></div>',i+='<div class="fullpage_content">'+RVS_LANG.embedingLine2a+"</div>",i+='<div class="inputrow">',i+="<input class='inputtocopy' id='embed_shortcode_modal' readonly value='[rev_slider usage=\"modal\"  alias=\""+e.alias+"\"][/rev_slider]'/>",i+='<div class="basic_action_button onlyicon copyshortcode" data-clipboard-action="copy" data-clipboard-target="#embed_shortcode_modal"><i class="material-icons">content_copy</i></div>',i+="</div>",i+='<div class="div20"></div>',i+='<div class="fullpage_content">'+RVS_LANG.embedingLine3+"</div>",i+='<div class="div40"></div>',i+='<div class="fullpage_title">'+RVS_LANG.embedingLine4+"</div>",i+='<div class="fullpage_content">'+RVS_LANG.embedingLine5+"</div>",i+='<div class="inputrow">',i+='<input class="inputtocopy" readonly id="embed_shortcode_b" value="<?php add_revslider(\''+e.alias+"'); ?>\">",i+='<div class="basic_action_button onlyicon copyshortcode" data-clipboard-action="copy" data-clipboard-target="#embed_shortcode_b"><i class="material-icons">content_copy</i></div>',i+="</div>",i+='<div class="div15"></div>',i+='<div class="fullpage_content">'+RVS_LANG.embedingLine6+"</div>",i+='<div class="inputrow">',i+='<input class="inputtocopy" readonly id="embed_shortcode_c" value="<?php add_revslider(\''+e.alias+"','homepage'); ?>\">",i+='<div class="basic_action_button onlyicon copyshortcode" data-clipboard-action="copy" data-clipboard-target="#embed_shortcode_c"><i class="material-icons">content_copy</i></div>',i+="</div>",i+='<div class="div15"></div>',i+='<div class="fullpage_content">'+RVS_LANG.embedingLine7+"</div>",i+='<div class="inputrow">',i+='<input class="inputtocopy" readonly id="embed_shortcode_d" value="<?php add_revslider(\''+e.alias+"','2,10'); ?>\">",i+='<div class="basic_action_button onlyicon copyshortcode" data-clipboard-action="copy" data-clipboard-target="#embed_shortcode_d"><i class="material-icons">content_copy</i></div>',i+="</div>",RVS.F.fullPageInfo.init({content:i}),RVS.F.initCopyClipboard(".copyshortcode"),a({keepOverlay:!1}),window.lastBreacCrumbText="",jQuery("#rsl_bread_selected").html(window.lastBreacCrumbText)}),RVS.DOC.on("click","#new_slider_from_template",function(){RVS.ENV.newTemplatesCounter.style.display="none",RVS.F.openObjectLibrary({types:["moduletemplates"],filter:"all",selected:["moduletemplates"],success:{slider:"addNewSlider",draftpage:"addDraftPage"}})})}}();